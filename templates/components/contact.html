<div class="form-body">
    <!-- Display messages -->
    {% if messages %}
        {% for message in messages %}
            <div class="{% if message.tags == 'success' %}success-message{% elif message.tags == 'error' %}error-alert{% elif message.tags == 'info' %}info-message{% elif message.tags == 'warning' %}warning-message{% else %}success-message{% endif %}">
                {{ message }}
            </div>
        {% endfor %}
    {% endif %}

    <!-- Display non-field errors -->
    {% if form.non_field_errors %}
        <div class="non-field-errors">
            {{ form.non_field_errors }}
        </div>
    {% endif %}
    
    <form method="post" novalidate>
        {% csrf_token %}
        
        <div class="required-note">
            * Pflichtfelder
        </div>

        <div class="form-row">
            <div class="form-group name-field">
                <label for="{{ form.name.id_for_label }}" class="required">{{ form.name.label }}</label>
                <input type="text" name="name" id="{{ form.name.id_for_label }}" class="form-control" maxlength="100" required value="{{ form.name.value|default:'' }}">
                {% if form.name.errors %}
                    {% for error in form.name.errors %}
                        <span class="error-message">{{ error }}</span>
                    {% endfor %}
                {% endif %}
                {% if form.name.help_text %}
                    <small class="form-text">{{ form.name.help_text }}</small>
                {% endif %}
            </div>

            <div class="form-group phone-field">
                <label for="{{ form.phone.id_for_label }}">{{ form.phone.label }}</label>
                <input type="text" name="phone" id="{{ form.phone.id_for_label }}" class="form-control" maxlength="20" value="{{ form.phone.value|default:'' }}">
                {% if form.phone.errors %}
                    {% for error in form.phone.errors %}
                        <span class="error-message">{{ error }}</span>
                    {% endfor %}
                {% endif %}
                {% if form.phone.help_text %}
                    <small class="form-text">{{ form.phone.help_text }}</small>
                {% endif %}
            </div>
        </div>

        <div class="form-group email-field">
            <label for="{{ form.email.id_for_label }}" class="required">{{ form.email.label }}</label>
            <input type="email" name="email" id="{{ form.email.id_for_label }}" class="form-control" maxlength="50" required value="{{ form.email.value|default:'' }}">
            {% if form.email.errors %}
                {% for error in form.email.errors %}
                    <span class="error-message">{{ error }}</span>
                {% endfor %}
            {% endif %}
            {% if form.email.help_text %}
                <small class="form-text">{{ form.email.help_text }}</small>
            {% endif %}
        </div>

        <div class="form-group message-field">
            <label for="{{ form.message.id_for_label }}" class="required">{{ form.message.label }}</label>
            <textarea name="message" id="{{ form.message.id_for_label }}" class="form-control" rows="5" required placeholder="Teilen Sie uns mit, wie wir Ihnen helfen können...">{{ form.message.value|default:'' }}</textarea>
            {% if form.message.errors %}
                {% for error in form.message.errors %}
                    <span class="error-message">{{ error }}</span>
                {% endfor %}
            {% endif %}
            {% if form.message.help_text %}
                <small class="form-text">{{ form.message.help_text }}</small>
            {% endif %}
        </div>

        <button type="submit" class="submit-btn">
            Nachricht senden
        </button>

        <div class="form-note">
            <strong>Datenschutz:</strong> Ihre Daten werden vertraulich behandelt und nicht an Dritte weitergegeben. 
            Weitere Informationen finden Sie in unserer Datenschutzerklärung.
        </div>
    </form>
</div>
